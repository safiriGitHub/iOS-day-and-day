具体看1、2文章

一、iOS 11中，苹果推出了 SafeAreaLayoutGuide 取代了 bottomLayoutGuide 和 topLayoutGuide

二、Programming with Safe Area

`var safeAreaInsets: UIEdgeInsets { get }`

`var safeAreaInsets: UIEdgeInsets { get }`



三、SafeAreaInsets 调用时机问题

SafeAreaInsets 并不是随时都能获取到的。 苹果的解释是在视图显示在屏幕上或者装载到一个视图层级中的时候，才能正确获取到 SafeAreaInsets，否则返回0

四、控制器根视图

对于 view controller 的根视图，SafeAreaInsets 会根据各种 bar 的高度，以及开发者自己设置的 additionalSafeAreaInsets 属性来计算。

五、其他

对于其他的视图，苹果的说法是只有当视图存在一部分被非安全区域遮挡的情况下，SafeAreaInsets 才会返回相应的值。如果整个视图已经处于安全区域中，那么 SafeAreaInsets 返回 zero。

六、Home Indicator